<!--
  ~ Copyright 2017 Red Hat, Inc, and individual contributors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">

<suite name="microprofile-fault-tolerance-TCK" verbose="2" configfailurepolicy="continue">

  <test name="microprofile-fault-tolerance 1.0 TCK">

    <packages>
      <package name="org.eclipse.microprofile.fault.tolerance.tck.invalidParameters"/>
      <package name="org.eclipse.microprofile.fault.tolerance.tck.illegalConfig" />
    </packages>

    <classes>

      <class name="org.eclipse.microprofile.fault.tolerance.tck.TimeoutTest"/>
      <class name="org.eclipse.microprofile.fault.tolerance.tck.RetryTest"/>
      <class name="org.eclipse.microprofile.fault.tolerance.tck.RetryConditionTest"/>
      <class name="org.eclipse.microprofile.fault.tolerance.tck.RetryTimeoutTest"/>
      <class name="org.eclipse.microprofile.fault.tolerance.tck.ConfigTest"/>


     <class name="org.eclipse.microprofile.fault.tolerance.tck.FallbackTest">
       <!--issue with timeout and fallback-->
       <methods>
         <exclude name="testFallbackTimeout"/>
       </methods>
     </class>

      <class name="org.eclipse.microprofile.fault.tolerance.tck.CircuitBreakerTest">
        <!--5 tests out of 7 don't pass-->
        <methods>
          <exclude name="testCircuitClosedThenOpen" />
          <exclude name="testCircuitDefaultSuccessThreshold"/>
          <exclude name="testCircuitHighSuccessThreshold" />
          <exclude name="testClassLevelCircuitBase" />
          <exclude name="testClassLevelCircuitOverride"/>
          <exclude name="testClassLevelCircuitOverrideNoDelay"/>
        </methods>
      </class>

      <class name="org.eclipse.microprofile.fault.tolerance.tck.CircuitBreakerRetryTest">
        <methods>
          <exclude name="testCircuitOpenWithMoreRetries"/>
          <exclude name="testCircuitOpenWithMultiTimeouts"/>
          <exclude name="testClassLevelCircuitOpenWithMoreRetries"/>
        </methods>
      </class>

      <class name="org.eclipse.microprofile.fault.tolerance.tck.bulkhead.BulkheadSynchTest"/>

    </classes>


  </test>

</suite>